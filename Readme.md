# Telegram Bot для проверки кода на платформе Devman

Telegram бот для отслеживания статуса проверки работ на платформе Devman. Бот отправляет уведомления в реальном времени о результатах проверки заданий.

## Функциональность

- Отслеживание статуса проверки работ на Devman
- Мгновенные уведомления в Telegram
- Информация о результате проверки (принято/есть ошибки)
- Ссылки на проверенную работу
- Автоматический перезапуск при сетевых сбоях
- Гибкая настройка через аргументы командной строки или переменные окружения

## Технологии

- `Python 3.x`
- `pyTelegramBotAPI` - работа с Telegram Bot API
- `Requests` - HTTP запросы к API Devman
- `python-dotenv` - управление переменными окружения
- `argparse` - обработка аргументов командной строки

## Установка

Для запуска у вас уже должен быть установлен `Python 3.x`

1. Клонируйте репозиторий.

2. Установите зависимости командой:

```python
pip install -r requirements.txt
```

## Настройка

1. **Создание Telegram бота**

Создайте бота через [@BotFather](https://t.me/BotFather) и скопируйте токен.

2. **Получение Chat ID**

- Начните диалог с созданным ботом
- Отправьте любое сообщение
- Получите ваш chat_id через @userinfobot или другим способом

3. **Получение Devman API токена**

- Авторизуйтесь на Devman
- Перейдите в раздел API
- Сохраните токен

4. **Настройка конфигурации**

Создать файл `.env` в корне проекта:

```env
DVMN_API_TOKEN=ваш_dvmn_api_здесь
TG_TOKEN=ваш_telegram_bot_токен_здесь
CHAT_ID=ваш_telegram_chat_id_здесь
```

## Запуск

**Способ 1: Использование переменных окружения (.env файл)**

```bash
python main.py
```

**Способ 2: Использование аргументов командной строки**

```bash
python main.py --dvmn_api_token ВАШ_TOKEN --tg_token ВАШ_BOT_TOKEN --chat_id ВАШ_CHAT_ID
```

Доступные аргументы:

`-api, --dvmn_api_token` - токен API Devman

`--tg_token` - токен Telegram бота

`-id, --chat_id` - ID чата в Telegram

**После успешного запуска бот отправит приветственное сообщение:**

```text
Привет, Имя! 
Бот запущен и начал отслеживать проверки!
```

**При проверке работы вы получите одно из уведомлений:**

```text
✅ Работа "Название урока" проверена!

Преподавателю всё понравилось! Можно приступать к следующему уроку.
https://dvmn.org/modules/...
```

**В работе есть ошибки:**

```text
❌ Работа "Название урока" проверена!

К сожалению, в работе есть ошибки.
https://dvmn.org/modules/...
```

##  Архитектура проекта

```text
devman-telegram-bot/
├── main.py               # Основной файл приложения
├── requirements.txt      # Зависимости проекта
├── .gitignore            # Игнорируемые файлы Git
├── .env                  # Переменные окружения (не включен в git)
└── README.md             # Документация
```

## Особенности реализации

- *Long Polling* - эффективное отслеживание изменений статуса проверок
- *Обработка ошибок* - устойчивость к сетевым сбоям и таймаутам
- *Гибкая конфигурация* - поддержка разных способов передачи параметров
- *Профессиональное логирование* - информативные сообщения о состоянии системы

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).